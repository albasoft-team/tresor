<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>{% block title %}Bienvenue | Vusulba{% endblock %}</title>
        {% block stylesheets %}{% endblock %}
        <link rel="icon" type="image/x-icon" href="{{ asset('senegal.png') }}" />
        <link rel="stylesheet" href="{{ asset('front-end/dist/css/style.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/bootstrap/css/bootstrap.min.css') }}" />
        <link rel="stylesheet" href="{{ asset('front-end/dist/css/bootstrap-cerulean.min.css') }}" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="{{ asset('front-end/bower_components/bs-select/css/bootstrap-select.min.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/datatables/dataTables.bootstrap.css') }}">
        <!-- Ionicons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/iCheck/all.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/colorpicker/bootstrap-colorpicker.min.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/timepicker/bootstrap-timepicker.min.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/select2/select2.min.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/dist/css/AdminLTE.min.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/dist/css/skins/_all-skins.min.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/iCheck/flat/blue.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/morris/morris.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/jvectormap/jquery-jvectormap-1.2.2.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/datepicker/datepicker3.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/daterangepicker/daterangepicker.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/plugins/datepicker/css/formValidation.min.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/dist/css/style.css') }}">
        <link rel="stylesheet" href="{{ asset('bundles/vue/css/mystyle.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/bower_components/angular-xeditable/dist/css/xeditable.min.css') }}">
        <link rel="stylesheet" href="{{ asset('front-end/node_modules/bootstrap-select/dist/css/bootstrap-select.min.css') }}">
        <link href="https://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
        <style>
            .content {
                padding-top: 35px!important;
            }
            .box.box-primary {
                padding: 25px;
            }
            .box{
                margin-top: 60px;
            }
            @media (max-width: 600px) {
                #blocTitleReport {
                    padding-right: 100px !important;
                }
            }
            @media (max-width: 991px) {
                h2 {
                    font-size: 20px;
                }
                #blocTtitle {
                    margin-left: 10px !important;
                }
                 #blocTitleReport {
                   padding-right: 0px !important;
                }

            }
            @media (max-width: 1024px) {
                h2 {
                    font-size: 20px;
                }
                #blocTtitle {
                    margin-left: 10px !important;
                }
                #blocTitleReport {
                    padding-right: 0px !important;
                }
            }
            @media (max-width: 1280px) {

                #blocTtitle {
                    margin-left: 5px !important;
                }
                #blocTitleReport {
                    padding-right: 40px !important;
                }
            }
            .form-group.has-success .form-control, .form-group.has-success .input-group-addon{
               border-color: black;
            }
            .form-group.has-success label {
                color: black;
            }
        </style>
    </head>
    <body ng-app="vusalbaApp">

    <div class="hold-transition skin-blue sidebar-mini">
        <aside class="hidden-xs" style="margin-top: -20px;margin-bottom: 10px; text-align: center">
            <div style="margin-left: 240px;margin-top: 16px;" href="" class="pull-left" >
                <img width="75"  src="{{ asset('senegal.png') }}" style="">
            </div>
            <div id="blocTtitle" class="sidebar-toggle" style="display: inline-block;"><h2 class="sidebar-toggle" style="color: black;">DIRECTION GENERALE DE LA COMPTABILITE PUBLIQUE ET DU TRESOR</h2></div>
            <div class="pull-right sidebar-toggle">
                <img width="65" style=""  src="{{ asset('img/tresor_lg.png') }}">
            </div>
        </aside>
        <header class="main-header">
            <!-- Logo -->
            <a href="index2.html" class="logo">
                <!-- mini logo for sidebar mini 50x50 pixels -->
                <span class="logo-mini"><b>V</b>AL</span>
                <!-- logo for regular state and mobile devices -->
                <span class="logo-lg"><b>VUSALBA</b> - Trésor public</span>
            </a>
            <!-- Header Navbar: style can be found in header.less -->
            <nav class="navbar navbar-static-top">
                <!-- Sidebar toggle button-->
                <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
                    <span class="sr-only">Toggle navigation</span>
                </a>
                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">

                        <!-- Messages: style can be found in dropdown.less-->
                        <!-- Notifications: style can be found in dropdown.less -->

                        <!-- Tasks: style can be found in dropdown.less -->

                        <!-- User Account: style can be found in dropdown.less -->
                        <li id="blocTitleReport" style="font-size: 25px; padding-right: 200px"><div style="color: white">Reporting temps réel des données SICA-STAR</div></li>
                        {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                            <li class="dropdown user user-menu">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <img src="{{ asset('img/user.png') }}" class="user-image" alt="User Image">
                                    <span class="hidden-xs">{{ app.user.username }}</span>
                                </a>
                                <ul class="dropdown-menu">
                                    <!-- User image -->
                                    <li class="user-header">
                                        <img src="{{ asset('img/user.png') }}" class="img-circle" alt="User Image">

                                        <p>
                                            {{ app.user.username }} - {{ app.user.email }}
                                        </p>
                                    </li>
                                    <!-- Menu Body -->
                                    <!-- Menu Footer-->
                                    <li class="user-footer">
                                        <div class="pull-left">
                                            <a href="#" class="btn btn-default btn-flat">Profile</a>
                                        </div>
                                        <div class="pull-right">
                                            <a href="{{ path('fos_user_security_logout') }}" class="btn btn-default btn-flat">Sign out</a>
                                        </div>
                                    </li>
                                </ul>
                            </li>
                            {% else %}
                            <li>
                                <a href="{{ path('fos_user_security_login') }}">Se connecter</a>
                            </li>

                        {% endif %}
                    </ul>
                </div>
            </nav>
        </header>
        <!-- Left side column. contains the logo and sidebar -->
        <aside class="main-sidebar">
            <!-- sidebar: style can be found in sidebar.less -->
            <section class="sidebar">
                <!-- Sidebar user panel -->
                <!-- /.search form -->
                <!-- sidebar menu: : style can be found in sidebar.less -->
                <ul class="sidebar-menu">
                    {#<li class="header" style="font-size: medium"><i class="fa fa-dashboard"></i> <span>Tableau de bord</span></li>#}
                    {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                       {% block analyser %}
                        {% endblock %}
                    {% endif %}
                </ul>
            </section>
            <!-- /.sidebar -->
        </aside>

        <!-- Content Wrapper. Contains page content -->
        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            {#<section class="content-header">#}
                {#<h1>#}

                {#</h1>#}
                {#<ol class="breadcrumb">#}
                    {#<li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>#}
                    {#<li class="active">Dashboard</li>#}
                {#</ol>#}
            {#</section>#}

            <!-- Main content -->
            <section class="content">
                <!-- Small boxes (Stat box) -->
                {% block analyze %}
                {% endblock %}

                <!-- /.row -->
                <!-- Main row -->
                <div class="row">
                    <section class="col-lg-12 connectedSortable">
                        {% block body %}{% endblock %}
                    </section>
                </div>
            </section>
            <!-- /.content -->
        </div>
        <!-- /.content-wrapper -->
        <footer class="main-footer">
            {#<div class="pull-right hidden-xs">#}
                {#<b>Version</b> 2.3.8#}
            {#</div>#}
            <strong>Copyright &copy; 2017 <a href="http://sn.albasoft.fr">Albasoft it</a>.</strong>
        </footer>

        <!-- Control Sidebar -->
        <!-- /.control-sidebar -->
        <!-- Add the sidebar's background. This div must be placed
             immediately after the control sidebar -->
        <div class="control-sidebar-bg"></div>
    </div>

        {% block javascripts %}{% endblock %}

        <script src="{{ asset('front-end/plugins/jQuery/jquery-2.2.3.min.js') }}"></script>
        <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
        <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
        <script>
            $.widget.bridge('uibutton', $.ui.button);
        </script>
        <script>

        </script>
        <script src="{{ asset('front-end/bootstrap/js/bootstrap.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/datatables/jquery.dataTables.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/datatables/dataTables.bootstrap.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/select2/select2.full.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/input-mask/jquery.inputmask.js') }}"></script>
        <script src="{{ asset('front-end/plugins/input-mask/jquery.inputmask.date.extensions.js') }}"></script>
        <script src="{{ asset('front-end/plugins/input-mask/jquery.inputmask.extensions.js') }}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
        {#<script src="{{ asset('front-end/plugins/morris/morris.min.js') }}"></script>#}
        <script src="{{ asset('front-end/plugins/sparkline/jquery.sparkline.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/jvectormap/jquery-jvectormap-world-mill-en.js') }}"></script>
        <script src="{{ asset('front-end/plugins/knob/jquery.knob.js') }}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js"></script>
        <script src="{{ asset('front-end/plugins/daterangepicker/daterangepicker.js') }}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js"></script>
        <script src="{{ asset('front-end/plugins/datepicker/bootstrap-datepicker.js') }}"></script>
        <script src="{{ asset('front-end/plugins/datepicker/locales/bootstrap-datepicker.fr.js') }}"></script>
        <script src="{{ asset('front-end/plugins/colorpicker/bootstrap-colorpicker.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/timepicker/bootstrap-timepicker.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/slimScroll/jquery.slimscroll.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/iCheck/icheck.min.js') }}"></script>
        <script src="{{ asset('front-end/plugins/fastclick/fastclick.min.js') }}"></script>
        <script src="{{ asset('front-end/dist/js/app.min.js') }}"></script>
        {#<script src="{{ asset('front-end/dist/js/pages/dashboard.js') }}"></script>#}
        <script src="{{ asset('front-end/dist/js/demo.js') }}"></script>
        <script src="{{ asset('front-end/bower_components/bs-select/js/bootstrap-select.min.js') }}"></script>
        <script src="{{ asset('front-end/bower_components/jquery-mask-plugin/dist/jquery.mask.min.js') }}"></script>
        <script src="{{ asset('front-end/bower_components/highcharts/highcharts.js') }}"></script>
        {#<script src="{{ asset('front-end/bower_components/highcharts/js/highstock.js') }}"></script>#}
        <script src="{{ asset('front-end/bower_components/highcharts/js/modules/map.js') }}"></script>
        {#<script src="{{ asset('front-end/bower_components/highcharts/js/modules/exporting.js') }}"></script>#}
        <script src="{{ asset('front-end/bower_components/highcharts/map/sn-all.js') }}"></script>
        <script src="{{ asset('front-end/node_modules/bootstrap-select/dist/js/bootstrap-select.min.js') }}"></script>
        <script src="{{ asset('front-end/bower_components/highcharts/modules/drilldown.js') }}"></script>



        <script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
        <script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
        <script src="{{ asset('front-end/ajax/ajax.js') }}"></script>
        <script src="{{ asset('front-end/ajax/function.js') }}"></script>
        <script src="{{ asset('front-end/bower_components/angular/angular.min.js') }}"></script>
        <!--Angular loading spinner-->
        <script src="{{ asset('front-end/bower_components/spin.js/spin.js') }}"></script>
        <script src="{{ asset('front-end/bower_components/angular-spinner/angular-spinner.min.js') }}"></script>
        <script src="{{ asset('front-end/bower_components/angular-loading-spinner/angular-loading-spinner.js') }}"></script>
        <script src="{{ asset('front-end/plugins/datepicker/js/formValidation.js') }}"></script>
        <script src="{{ asset('front-end/plugins/datepicker/js/framework/bootstrap.min.js') }}"></script>

        <script src="{{ asset('front-end/app.js') }}"></script>


        <script src="{{ asset('front-end/service/composant.js') }}"></script>
        <script src="{{ asset('front-end/service/enterDataService.js') }}"></script>
        <script src="{{ asset('front-end/service/analyzer.js') }}"></script>

        <script src="{{ asset('front-end/controller/composant.js') }}"></script>
        <script src="{{ asset('front-end/controller/enterData.js') }}"></script>
        <script src="{{ asset('front-end/controller/analyze.js') }}"></script>

        <script src="{{ asset('front-end/bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js') }}"></script>
        <script src="{{ asset('front-end/bower_components/angular-bootstrap/ui-bootstrap.min.js') }}"></script>

        <script src="{{ asset('bundles/vue/js/wizard.js') }}"></script>
        <script src="{{ asset('front-end/bower_components/angular-xeditable/dist/js/xeditable.min.js') }}"></script>
    </body>
    <script>
        $('#formAnalyse').formValidation({
            framework: 'bootstrap',
            icon: {
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {
                startDate: {
                    validators: {
                        date: {
                            format: 'DD/MM/YYYY',
                            max: 'endDate',
                            message: 'Veillez saisire une date correcte'
                        }
                    }
                },
                endDate: {
                    validators: {
                        date: {
                            format: 'DD/MM/YYYY',
                            min: 'startDate',
                            message: 'La date de départ doit etre superieure ou égale à la date d' / 'arrivée'
                        }
                    }
                },
                composant: {
                    validators: {
                        notEmpty: {
                            message: 'Veillez remplir ce champ'
                        }
                    }
                },
                axe: {
                    validators: {
                        notEmpty: {
                            message: 'Veillez remplir ce champ'
                        }
                    }
                },
                niveau: {
                    validators: {
                        notEmpty: {
                            message: 'Veillez remplir ce champ'
                        }
                    }
                }

            }
        }).on('success.field.fv', function(e, data) {
            if (data.field === 'composant' && !data.fv.isValidField('composant')) {
                // We need to revalidate the end date
                data.fv.revalidateField('composant');
            }
            if (data.field === 'axe' && !data.fv.isValidField('axe')) {
                // We need to revalidate the end date
                data.fv.revalidateField('axe');
            }
            if (data.field === 'niveau' && !data.fv.isValidField('niveau')) {
                // We need to revalidate the end date
                data.fv.revalidateField('niveau');
            }


        })
    </script>
</html>
